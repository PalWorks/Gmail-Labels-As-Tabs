{
  "version": 3,
  "sources": ["../../node_modules/@inboxsdk/core/background.js", "../../src/background.ts"],
  "sourcesContent": ["/* global chrome */\nchrome.runtime.onMessage.addListener((message, sender, sendResponse) => {\n  if (message.type === 'inboxsdk__injectPageWorld' && sender.tab) {\n    if (chrome.scripting) {\n      // MV3\n      let documentIds;\n      let frameIds;\n      if (sender.documentId) {\n        // Protect against https://github.com/w3c/webextensions/issues/8 in\n        // browsers (Chrome 106+) that support the documentId property.\n        // Protections for other browsers happen inside the injected script.\n        documentIds = [sender.documentId];\n      } else {\n        frameIds = [sender.frameId];\n      }\n      chrome.scripting.executeScript({\n        target: { tabId: sender.tab.id, documentIds, frameIds },\n        world: 'MAIN',\n        files: ['pageWorld.js'],\n      });\n      sendResponse(true);\n    } else {\n      // MV2 fallback. Tell content script it needs to figure things out.\n      sendResponse(false);\n    }\n  }\n});\n", "/**\n * background.ts\n *\n * Service worker for the extension.\n * Handles opening the options page.\n */\n\nimport '@inboxsdk/core/background.js';\n\nchrome.runtime.onMessage.addListener((message, sender, sendResponse) => {\n    if (message.action === 'openOptions') {\n        chrome.runtime.openOptionsPage();\n    }\n});\n\nchrome.action.onClicked.addListener((tab) => {\n    if (tab.id) {\n        chrome.tabs.sendMessage(tab.id, { action: \"TOGGLE_SETTINGS\" })\n            .catch((err) => {\n                // Ignore errors if the content script isn't ready\n                console.warn(\"Could not send message to tab:\", err);\n            });\n    }\n});\n\n// Optional: Install hook\nchrome.runtime.onInstalled.addListener((details) => {\n    if (details.reason === 'install') {\n        // Could set default labels here if we wanted\n        const defaultLabels = [\n            { name: 'Inbox', id: 'default-inbox' },\n            { name: 'Sent', id: 'default-sent' }\n        ];\n        chrome.storage.sync.get(['labels'], (result) => {\n            if (!result.labels) {\n                chrome.storage.sync.set({ labels: defaultLabels });\n            }\n        });\n    }\n});\n"],
  "mappings": ";;;AACA,SAAO,QAAQ,UAAU,YAAY,CAAC,SAAS,QAAQ,iBAAiB;AACtE,QAAI,QAAQ,SAAS,+BAA+B,OAAO,KAAK;AAC9D,UAAI,OAAO,WAAW;AAEpB,YAAI;AACJ,YAAI;AACJ,YAAI,OAAO,YAAY;AAIrB,wBAAc,CAAC,OAAO,UAAU;AAAA,QAClC,OAAO;AACL,qBAAW,CAAC,OAAO,OAAO;AAAA,QAC5B;AACA,eAAO,UAAU,cAAc;AAAA,UAC7B,QAAQ,EAAE,OAAO,OAAO,IAAI,IAAI,aAAa,SAAS;AAAA,UACtD,OAAO;AAAA,UACP,OAAO,CAAC,cAAc;AAAA,QACxB,CAAC;AACD,qBAAa,IAAI;AAAA,MACnB,OAAO;AAEL,qBAAa,KAAK;AAAA,MACpB;AAAA,IACF;AAAA,EACF,CAAC;;;ACjBD,SAAO,QAAQ,UAAU,YAAY,CAAC,SAAS,QAAQ,iBAAiB;AACpE,QAAI,QAAQ,WAAW,eAAe;AAClC,aAAO,QAAQ,gBAAgB;AAAA,IACnC;AAAA,EACJ,CAAC;AAED,SAAO,OAAO,UAAU,YAAY,CAAC,QAAQ;AACzC,QAAI,IAAI,IAAI;AACR,aAAO,KAAK,YAAY,IAAI,IAAI,EAAE,QAAQ,kBAAkB,CAAC,EACxD,MAAM,CAAC,QAAQ;AAEZ,gBAAQ,KAAK,kCAAkC,GAAG;AAAA,MACtD,CAAC;AAAA,IACT;AAAA,EACJ,CAAC;AAGD,SAAO,QAAQ,YAAY,YAAY,CAAC,YAAY;AAChD,QAAI,QAAQ,WAAW,WAAW;AAE9B,YAAM,gBAAgB;AAAA,QAClB,EAAE,MAAM,SAAS,IAAI,gBAAgB;AAAA,QACrC,EAAE,MAAM,QAAQ,IAAI,eAAe;AAAA,MACvC;AACA,aAAO,QAAQ,KAAK,IAAI,CAAC,QAAQ,GAAG,CAAC,WAAW;AAC5C,YAAI,CAAC,OAAO,QAAQ;AAChB,iBAAO,QAAQ,KAAK,IAAI,EAAE,QAAQ,cAAc,CAAC;AAAA,QACrD;AAAA,MACJ,CAAC;AAAA,IACL;AAAA,EACJ,CAAC;",
  "names": []
}
